#!/bin/bash

# Check if a password is provided
if [ -z "$1" ]; then
    echo "Usage: $0 <mysql_password>"
    exit 1
fi

# Set the MySQL password
MYSQL_PASSWORD="$1"

# Create MySQL dump
mysqldump --all-databases -u root -p"${MYSQL_PASSWORD}" > backup.sql

# Create a compressed tar archive
ARCHIVE_NAME="$(date '+%d-%m-%Y').tar.gz"
tar -czvf "${ARCHIVE_NAME}" backup.sql

# Clean up: Remove the uncompressed SQL dump
rm backup.sql

# Display the created files
ls -l "${ARCHIVE_NAME}"

